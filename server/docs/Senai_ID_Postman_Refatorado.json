{
  "info": {
    "name": "Senai ID (Refatorada - Nova)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000"
    },
    {
      "key": "alunoJWT",
      "value": ""
    },
    {
      "key": "secretariaJWT",
      "value": ""
    }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/auth",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n    \"login\": \"usuario\",\n    \"senha\": \"senha\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "Listar usuários",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Buscar usuário por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                ":id"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Buscar usuário logado",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/me",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                "me"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{alunoJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Buscar foto de perfil",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/:id/profile-picture",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                ":id",
                "profile-picture"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Criar aluno",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            },
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "nome",
                  "value": "Fulano de Tal",
                  "type": "text"
                },
                {
                  "key": "cpf",
                  "value": "000.000.000-00",
                  "type": "text"
                },
                {
                  "key": "senha",
                  "value": "SenhaSegura123",
                  "type": "text"
                },
                {
                  "key": "turma",
                  "value": "1A",
                  "type": "text"
                },
                {
                  "key": "matricula",
                  "value": "123456",
                  "type": "text"
                },
                {
                  "key": "data_nascimento",
                  "value": "2000-01-01",
                  "type": "text"
                },
                {
                  "key": "curso",
                  "value": "Curso Exemplo",
                  "type": "text"
                },
                {
                  "key": "foto_perfil",
                  "type": "file",
                  "src": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Criar funcionário",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/employees",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                "employees"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Atualizar usuário",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                ":id"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deletar usuário",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                ":id"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Verificar primeiro acesso",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/:id/first-access",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                ":id",
                "first-access"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Gerar QR Code / acesso",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/me/access",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                "me",
                "access"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{alunoJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Users - Email e Senha",
      "item": [
        {
          "name": "Pedir token de verificação",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/:id/verify-email/request-token",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                ":id",
                "verify-email",
                "request-token"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Validar token de verificação",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/:id/verify-email/validate-token",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                ":id",
                "verify-email",
                "validate-token"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Esqueci a senha",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/forgot-password",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                "forgot-password"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Resetar senha",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/reset-password",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                "reset-password"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Configurar senha inicial",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/:id/setup-password",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                ":id",
                "setup-password"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Update Requests",
      "item": [
        {
          "name": "Criar solicitação",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/me/request-update",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                "me",
                "request-update"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{alunoJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Listar solicitações do usuário",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/me/update-requests",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                "me",
                "update-requests"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{alunoJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Buscar solicitação específica",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/users/me/update-requests/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                "me",
                "update-requests",
                ":id"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{alunoJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Listar solicitações (Admin)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/update-requests",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "update-requests"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Aprovar solicitação (Admin)",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/update-requests/:id/approve",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "update-requests",
                ":id",
                "approve"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Negar solicitação (Admin)",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/update-requests/:id/deny",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "update-requests",
                ":id",
                "deny"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Late Arrivals",
      "item": [
        {
          "name": "Listar atrasos (Aluno)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/late-entries/me",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "late-entries",
                "me"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{alunoJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Buscar atraso específico (Aluno)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/late-entries/me/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "late-entries",
                "me",
                ":id"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{alunoJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Criar pedido de atraso (Aluno)",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/late-entries/me/request",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "late-entries",
                "me",
                "request"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{alunoJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Listar atrasos (Admin)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/late-entries",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "late-entries"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Buscar atraso específico (Admin)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/late-entries/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "late-entries",
                ":id"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Validar atraso (Admin)",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/late-entries/:id/validate",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "late-entries",
                ":id",
                "validate"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deletar atraso (Admin)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/late-entries/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "late-entries",
                ":id"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Early Leaves",
      "item": [
        {
          "name": "Listar saídas (Aluno)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/early-exits/me",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "early-exits",
                "me"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{alunoJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Buscar saída específica (Aluno)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/early-exits/me/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "early-exits",
                "me",
                ":id"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{alunoJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Criar pedido de saída (Aluno)",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/early-exits/me/request",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "early-exits",
                "me",
                "request"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{alunoJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Listar saídas (Admin)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/early-exits",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "early-exits"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Aprovar saída (Admin)",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/early-exits/:id/allow",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "early-exits",
                ":id",
                "allow"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Negar saída (Admin)",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/early-exits/:id/deny",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "early-exits",
                ":id",
                "deny"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deletar saída (Admin)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/early-exits/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "early-exits",
                ":id"
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{secretariaJWT}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Support",
      "item": [
        {
          "name": "Enviar mensagem de suporte",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/support/send-message",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "support",
                "send-message"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n    \"nome\": \"Ot\\u00e1vio Vin\\u00edcius Flauzino de Souza\",\n    \"telefone\": \"11 95023-1230\",\n    \"mensagem\": \"Ol\\u00e1, estou com um problema no acesso.\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Logs",
      "item": [
        {
          "name": "Info Log",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/logs/info",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "logs",
                "info"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Exception Log",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/logs/exception",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "logs",
                "exception"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Rejection Log",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/logs/rejection",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "logs",
                "rejection"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ]
}
